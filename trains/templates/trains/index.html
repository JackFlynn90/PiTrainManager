{% extends 'trains/base.html' %}
{% block content %}
		<div>
			<h1><a href="/">Main Page</a></h1>
			</div>
			
			<!-- Main Automated Functions -->
		
			<h2>Automatic Train Patterns</h2>
		<div class="btn-group btn-group-toggle" data-toggle="buttons">	<!-- Track Pattern toggle/selection -->
			<label class="btn btn-secondary active">
				<input type="radio" name="options" id="Default" autocomplete="off" checked> Manual
			  </label>
			  
			  <label class="btn btn-secondary">
				<input type="radio" name="options" id="option2" autocomplete="off"> Pattern 1
			  </label>

		</div>
	
<!-- Main Manual Train Control -->
	
	<h2>Manual Train Control:</h2>
	
	<div class="row">
  
		<!-- Generated for loop for every train in the database -->
		{% for train in trains %}
			<div class="card" style="width: 38rem;"><!-- Card layout bootstrap for each train -->
				<img class="card-img-top" src="{{ train.image.url }}" alt="Card image cap"> <!-- Image pulled from database -->
				<div class="card-body">
					<h3 class="card-title">{{ train.title }}</h3> <!-- title pulled from database -->
					<p class="card-text">{{ train.description|linebreaksbr }}</p> <!-- Description pulled from database -->
				</div>
				<div class = "text-center"> <!--Center the rest of the card content -->
					<div class="panel-group">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" href="#collapse{{train.pk}}">Manual Controls</a> <!--Collapsable panel title to fill the rest of the card -->
								</h4>
							</div>
							<div id="collapse{{train.pk}}" class="panel-collapse collapse"><!--Collapsable panel to fill the rest of the card -->
							  <ul class="list-group"> <!--List embedded in the panel -->
								  <li class="list-group-item">
								  
									<h4>Lights:</h4> <i class="material-icons">highlight</i> <!--Lights button call -->
										<div class="btn-group btn-group-toggle" data-toggle="buttons">
										{% if train.lightsOn %}
											<label class="btn btn-light">
										{% else %}
											<label class="btn btn-light active">
										{% endif %}
													<input type="radio" name="options" id="Lights-off" autocomplete="off" checked>Off
												</label>
										{% if train.lightsOn %}
											<label class="btn btn-light active">
										{% else %}
											<label class="btn btn-light">
										{% endif %}
												<input type="radio" name="options" id="Lights-on" autocomplete="off"> On
											</label>
										</div>
									</li>
									<li class="list-group-item">
									<h4>Direction:</h4> <i class="material-icons">compare_arrows</i> <!--Lights button call -->
										<div class="btn-group btn-group-toggle" data-toggle="buttons">
										{% if train.direction %}
											<label class="btn btn-light">
										{% else %}
											<label class="btn btn-light active">
										{% endif %}
													<input type="radio" name="options" id="dir-for" autocomplete="off" checked>Forward
												</label>
										{% if train.direction %}
											<label class="btn btn-light active">
										{% else %}
											<label class="btn btn-light">
										{% endif %}
												<input type="radio" name="options" id="dir-back" autocomplete="off">Backward
											</label>
										</div>
									</li>
									<li class="list-group-item">Three</li>
							  </ul>
							  <div class="panel-footer">Footer</div>
							</div>
						</div>
				  </div>
				</div>
				  <div class="card-body">
					<a href="#" class="card-link">Card link</a>
					<a href="#" class="card-link">Another link</a>
				  </div>
			</div>		
		{% endfor %}
	</div>
{% endblock %}